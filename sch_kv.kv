
ScreenManager:
    LoginPage:
    SignUpPage:
    SignUpPage2:
    SignUpPage3:
    Home:
    TaskScreen:
    EventScreen:
    SettingsPage:
    CalendarPage:
    ProfilePage:


<LoginPage>
    name: "LoginPage"
    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 25
        spacing:25

        MDLabel:
            text: "SPSD Scheduler"
            theme_text_color: "Custom"
            text_color: 0, 0, 0, 0.75
            font_size: 40
            halign: 'center'
            size_hint_y: None

        MDLabel:
            id: error_text
            text: ""
            theme_text_color: "Custom"
            text_color: 1, 0, 0, 0.75
            font_size: 15
            halign: 'center'
            size_hint_y: None
            height: '0dp'

        MDTextField:
            id: user_name
            hint_text: "Username"
            icon_right: "account"
            size_hint_x: None
            width: 200
            font_size: 18
            pos_hint: {"center_x": 0.5}
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True

        MDTextField:
            id: user_pass
            hint_text: "Password"
            icon_right: "key-variant"
            size_hint_x: None
            width: 200
            font_size: 18
            pos_hint: {"center_x": 0.5}
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True
            password: True


        MDRectangleFlatButton:
            id: login_button
            text: "Log In"
            font_size: 15
            pos_hint: {"center_x": 0.5}
            on_release:
                app.check_login_username()
                app.home_view()

        MDSeparator:
            height: "1dp"

        MDLabel:
            text: "If you don't have an account"
            font_size: 12
            halign: 'center'


        MDTextButton:
            text: "SignUp"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_release: root.manager.current = "SignUpPage"


<SignUpPage>
    name: "SignUpPage"

    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 45
        spacing:15

        MDLabel:
            text: "Sign Up"
            theme_text_color: "Custom"
            text_color: 0, 0, 0, 0.75
            font_size: 25
            halign: 'center'
            size_hint_y: None

        MDLabel:
            id: error_text_signup
            text: ""
            theme_text_color: "Custom"
            text_color: 1, 0, 0, 0.75
            font_size: 13
            halign: 'center'
            size_hint_y: None
            height: '0dp'

        MDSeparator:
            height: "1dp"

        MDTextField:
            id: sign_username
            hint_text: "Username"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            icon_right: "account"
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            required: True

        MDTextField:
            id: sign_useremail
            hint_text: "Email"
            icon_right: "account"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            required: True

        MDTextField:
            id: sign_userpass
            hint_text: "Password"
            icon_right: "key-variant"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            password: True
            required: True

        MDTextField:
            id: sign_con_userpass
            hint_text: "Confirm Password"
            icon_right: "key-variant"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            password: True
            required: True
        MDRectangleFlatButton:
            text: "SignUp"
            font_size: 15
            pos_hint: {"center_x": 0.5}
            on_release: app.check_signup_page()

        MDFlatButton:
            text: "Already have an account?"
            font_size: 10
            pos_hint: {"center_x": 0.5}
            on_release: root.manager.current = "LoginPage"

    MDProgressBar:
        value: 30
        pos_hint: {'center_y': 0.01}


<SignUpPage2>
    name: "SignUpPage2"
    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 45
        spacing:15


        MDLabel:
            text: "Fill in the form to get started"

        MDLabel:
            id: pass_id
            text: ""
            height: '0dp'
        MDTextField:
            id: stu_prog
            hint_text: "Program"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True

        MDTextField:
            id: stu_cgpa
            hint_text: "Current CGPA"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True

        MDTextField:
            id: stu_sem
            hint_text: "Current Semester"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True

        MDTextField:
            id: stu_subs
            hint_text: "No. of subjects this sem"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True

        BoxLayout:

            MDFlatButton:
                text: "Go Back"
                text_color: self.theme_cls.primary_color
                on_release:
                    root.manager.current = "SignUpPage"
                    root.manager.transition.direction = "right"

            MDFlatButton:
                text: "OK"
                text_color: self.theme_cls.primary_color
                on_release: app.check_signup2()

    MDProgressBar:
        value: 60
        pos_hint: {'center_y': 0.01}


<Content>
    orientation: "vertical"
    spacing: "20dp"
    size_hint_y: None
    height: "250dp"
    course_code: course_code
    course_name: course_name
    course_credit: course_credit

    MDTextField:
        id: course_code
        hint_text: "Course Code"
        helper_text: "Required"
        helper_text_mode: 'on_error'
        required: True

    MDTextField:
        id: course_name
        hint_text: "Course Name"
        helper_text: "Required"
        helper_text_mode: 'on_error'
        required: True

    MDTextField:
        id: course_credit
        hint_text: "Credit_hours"
        helper_text: "Required"
        helper_text_mode: 'on_error'
        required: True

    BoxLayout:
        MDFlatButton:
            text: "Add_next"
            on_release: root.course_details(self)

        MDFlatButton:
            text: "Done"
            on_release: app.close_dialog()


<SignUpPage3>
    name: "SignUpPage3"
    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 45
        spacing:15

        MDLabel:
            text: "Enter your subjects"

        MDRectangleFlatButton:
            text: "Add Subjects"
            on_release: app.add_subject_dialog()



        BoxLayout:

            MDFlatButton:
                text: "Go Back"
                text_color: self.theme_cls.primary_color
                on_release:
                    root.manager.current = "SignUpPage"
                    root.manager.transition.direction = "right"

            MDFlatButton:
                text: "OK"
                text_color: self.theme_cls.primary_color
                on_release:
                    root.manager.current = "Home"
                    app.home_view()

    MDProgressBar:
        value: 100
        pos_hint: {'center_y': 0.01}



<Home>
    name: "Home"
    NavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    id: home_id
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'Tasks'
                        elevation:10
                        left_action_items: [['menu', lambda x : nav_drawer.set_state("open")]]
                    Widget:
                        size_hint_y: None
                        height:0

                    ScrollView:
                        MDList:
                            id: view_all

                    MDFloatingActionButtonSpeedDial:
                        data: app.data
                        root_button_anim: True
                        callback: app.callback

        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '100dp'
                padding: '8dp'


                MDLabel:
                    text: 'SPSD Task Scheduler'
                    font_style: 'H5'
                    size_hint_y: None
                    height: self.texture_size[1]

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            id: cal_page
                            text: 'Calendar'
                            on_release:
                                app.calendarPage_title()
                                app.create_calendar(self)

                            IconLeftWidget:
                                icon: 'calendar'

                        OneLineIconListItem:
                            text: 'Profile'
                            on_release: root.manager.current = "ProfilePage"
                            IconLeftWidget:
                                icon: 'account-settings'

                        OneLineIconListItem:
                            text: 'Settings'
                            on_release: root.manager.current = "SettingsPage"
                            IconLeftWidget:
                                icon: 'settings-outline'

                        OneLineIconListItem:
                            text: 'CGPA Calculator'
                            IconLeftWidget:
                                icon: 'calculator'

<TaskScreen>
    name: "TaskScreen"
    canvas.before:
        Color:
            rgba: (0, 0, 1, 0.5)
        Rectangle:
            pos: self.pos
            size: self.size

    MDCard:

        size_hint: None, None
        size: root.width - 50, root.height - 50
        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
        elevation: 60
        orientation: 'vertical'

        MDLabel:
            text: "Add Task"
            halign: "center"

        MDTextField:
            id: event_name
            hint_text: "Task Name"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True
            pos_hint: {"center_x": 0.5}
            size_hint_x: None
            width: 200

        MDLabel:
            text: "Select task type"
            halign: "center"

        GridLayout:
            cols: 4
            size_hint_x: None
            width: 310
            pos_hint: {"center_x": 0.5}
            CheckBox:
                group: "task_type"
            MDLabel:
                text: "Test/Exam"
                halign: "center"
            CheckBox:
                group: "task_type"
            MDLabel:
                text: "Assignment"
                halign: "center"

        DropDown:

        GridLayout:
            cols: 2
            size_hint_x: None
            width: 200
            pos_hint: {"center_x": 0.5}
            MDTextField:
                id: due_date
                text: ""
                hint_text: "Select Due Date"
                helper_text: "Click on calendar icon to select"
                helper_text_mode: "persistent"
                required: True
                pos_hint: {"center_x": 0.5}
                size_hint_x: None
                width: 200

            MDIconButton:
                icon: "calendar-month"
                ripple_scale: .5
                pos_hint: {"center_y": .5}




<EventScreen>
    name: "EventScreen"
    canvas.before:
        Color:
            rgba: (0, 0, 1, 0.5)
        Rectangle:
            pos: self.pos
            size: self.size

    MDCard:
        spacing: 100
        size_hint: None, None
        size: root.width - 50, root.height - 50
        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
        elevation: 10
        orientation: 'vertical'

        MDLabel:
            text: "Add Event"
            halign: "center"
            padding_y: 10

        MDTextField:
            id: event_name
            hint_text: "Event Name"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True
            pos_hint: {"center_x": 0.5}








<ProfilePage>
    name: "ProfilePage"
    NavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    spacing: 20
                    MDToolbar:
                        title: 'Profile Settings'
                        elevation:10
                        left_action_items: [['close', lambda x : app.close_page()]]
                    Widget:

                    MDCard:
                        size_hint: (.9, None)
                        height: dp(120)
                        pos_hint: {'center_x': 0.5}
                        BoxLayout:
                            orientation:'vertical'
                            padding: dp(8)
                            BoxLayout:
                                MDLabel:
                                    text: 'Change UserName'
                                    size_hint_y: None
                                    font_style: "H6"
                                    font_size: '15'
                                    height: dp(36)
                                MDIconButton:
                                    icon: 'android'


                            MDSeparator:
                                height: dp(1)
                            MDLabel:
                                text: 'Body'
                                font_style: "Body2"
                    MDCard:
                        size_hint: (.9, None)
                        height: dp(120)
                        pos_hint: {'center_x': 0.5}
                        BoxLayout:
                            orientation:'vertical'
                            padding: dp(8)
                            BoxLayout:
                                MDLabel:
                                    text: 'Change Email'
                                    size_hint_y: None
                                    font_style: "H6"
                                    font_size: '15'
                                    height: dp(36)
                                MDIconButton:
                                    icon: 'android'
                            MDSeparator:
                                height: dp(1)
                            MDLabel:
                                text: 'Body'
                                font_style: "Body2"
                    MDCard:
                        size_hint: (.9, None)
                        height: dp(120)
                        pos_hint: {'center_x': 0.5}
                        BoxLayout:
                            orientation:'vertical'
                            padding: dp(8)
                            BoxLayout:
                                MDLabel:
                                    text: 'Change Password'
                                    size_hint_y: None
                                    font_style: "H6"
                                    font_size: '15'
                                    height: dp(36)
                                MDIconButton:
                                    icon: 'android'
                            MDSeparator:
                                height: dp(1)
                            MDLabel:
                                text: 'Body'
                                font_style: "Body2"

                    Widget:


<see_events>






<CalendarPage>
    name: "CalendarPage"

    NavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        id: cal_tool
                        title: ""
                        elevation:10
                        left_action_items: [['close', lambda x : app.close_page()]]
                    Widget:
                        size_hint: (None, None)
                        height: 0

                    GridLayout:
                        size_hint_y: None
                        height: 100
                        cols: 7
                        pos_hint : {'center_y': .7}
                        MDLabel:
                            text: "Mon"
                            halign: 'center'
                        MDLabel:
                            text: "Tue"
                            halign: 'center'
                        MDLabel:
                            text: "Thurs"
                            halign: 'center'
                        MDLabel:
                            text: "Wed"
                            halign: 'center'
                        MDLabel:
                            text: "Fri"
                            halign: 'center'
                        MDLabel:
                            text: "Sat"
                            halign: 'center'
                        MDLabel:
                            text: "Sun"
                            halign: 'center'

                    GridLayout:
                        cols:7
                        id: calendar_space

                    MDLabel:
                        id: id_store
                        text:""
                        font_size: 0

                    Widget:
                    MDBottomAppBar:

                        MDToolbar:
                            title: ""
                            icon: "calendar-search"
                            type: "bottom"
                            on_action_button: app.show_example_custom_bottom_sheet()


<ContentCustomSheet>:
    orientation: "vertical"
    size_hint_y: None
    height: 250
    bottom_date: bottom_date
    prev_b: prev_b
    next_b:next_b

    MDBoxLayout:
        adaptive_height: True
        MDIconButton:
            id: prev_b
            icon: 'chevron-left'
            on_release: root.change_date_prev()
        MDLabel:
            id: bottom_date
            text: root.date_c()
            halign: "center"
        MDIconButton:
            id: next_b
            icon: 'chevron-right'
            on_release: root.change_date_next()


    GridLayout:
        cols: 4
        spacing: 20
        padding: 30
        Button:
            id: Jan
            text: "Jan"
            on_press: app.go_back(self)
        Button:
            id:Feb
            text: "Feb"
            on_press: app.go_back(self)
        Button:
            id:Mar
            text: "Mar"
            on_press: app.go_back(self)

        Button:
            id:Apr
            text: "Apr"
            on_press: app.go_back(self)
        Button:
            id:May
            text: "May"
            on_press: app.go_back(self)
        Button:
            id:June
            text: "June"
            on_press: app.go_back(self)
        Button:
            id:July
            text: "July"
            on_press: app.go_back(self)
        Button:
            id:Aug
            text: "Aug"
            on_press: app.go_back(self)
        Button:
            id:Sept
            text: "Sept"
            on_press: app.go_back(self)
        Button:
            id:Oct
            text: "Oct"
            on_press: app.go_back(self)
        Button:
            id: Nov
            text: "Nov"
            on_press: app.go_back(self)
        Button:
            id: Dec
            text: "Dec"
            on_press: app.go_back(self)


