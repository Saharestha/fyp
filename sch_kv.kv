#:import NoTransition kivy.uix.screenmanager.NoTransition
ScreenManager:
    LoginPage:
    SignUpPage:
    SignUpPage2:
    SignUpPage3:
    Home:
    CalendarPage:
    ProfilePage:
    EventScreen:
    TaskScreen:
    CgpaPage:
    DetailsPage:
    AllTasksPage:
    Store:

<LoginPage>
    name: "LoginPage"
    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 25
        spacing:25

        Image:
            source: "Logo.jpeg"

        MDLabel:
            id: error_text
            text: ""
            theme_text_color: "Custom"
            text_color: 1, 0, 0, 0.75
            font_size: 15
            halign: 'center'
            size_hint_y: None
            height: '0dp'

        MDTextField:
            id: user_email
            hint_text: "Email"
            icon_right: "account"
            size_hint_x: None
            width: 300
            font_size: 18
            mode: "fill"
            fill_color: 1, 240/255, 230/255, 0.1
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            pos_hint: {"center_x": 0.5}
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True

        MDTextField:
            id: user_pass
            hint_text: "Password"
            icon_right: "key-variant"
            size_hint_x: None
            width: 300
            mode: "fill"
            fill_color: 1, 240/255, 230/255, 0.1
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            font_size: 18
            pos_hint: {"center_x": 0.5}
            helper_text: "Required"
            helper_text_mode: 'on_error'
            required: True
            password: True


        MDRectangleFlatButton:
            id: login_button
            text: "Log In"
            font_size: 15
            pos_hint: {"center_x": 0.5}
            on_release:
                app.check_login_username()


        MDSeparator:
            height: "1dp"

        MDLabel:
            text: "If you don't have an account"
            font_size: 12
            halign: 'center'


        MDTextButton:
            text: "SignUp"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_release: root.manager.current = "SignUpPage"

<SignUpPage>
    name: "SignUpPage"

    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 45
        spacing:15

        MDLabel:
            text: "Sign Up"
            theme_text_color: "Custom"
            text_color: 0, 0, 0, 0.75
            font_size: 25
            theme_text_color: "Custom"
            text_color: 1,99/255,71/255, 1
            halign: 'center'
            size_hint_y: None

        MDLabel:
            id: error_text_signup
            text: ""
            theme_text_color: "Custom"
            text_color: 1, 0, 0, 0.75
            font_size: 13

            halign: 'center'
            size_hint_y: None
            height: '0dp'

        MDSeparator:
            height: "1dp"

        MDTextField:
            id: sign_username
            hint_text: "Username"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            icon_right: "account"
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            required: True

        MDTextField:
            id: sign_useremail
            hint_text: "Email"
            icon_right: "account"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            required: True

        MDTextField:
            id: sign_userpass
            hint_text: "Password"
            icon_right: "key-variant"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            password: True
            required: True

        MDTextField:
            id: sign_con_userpass
            hint_text: "Confirm Password"
            icon_right: "key-variant"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            password: True
            required: True
        MDRectangleFlatButton:
            text: "SignUp"
            font_size: 15
            pos_hint: {"center_x": 0.5}
            on_release: app.check_signup_page()

        MDFlatButton:
            text: "Already have an account?"
            font_size: 10
            pos_hint: {"center_x": 0.5}
            on_release: root.manager.current = "LoginPage"

    MDProgressBar:
        value: 30
        pos_hint: {'center_y': 0.01}

<SignUpPage2>
    name: "SignUpPage2"
    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 45
        spacing:15


        MDLabel:
            text: "Fill in the form to get started"

        MDLabel:
            id: pass_id
            text: ""
            height: '0dp'
        MDTextField:
            id: stu_prog
            hint_text: "Program"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            required: True

        MDTextField:
            id: stu_cgpa
            hint_text: "Current CGPA"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            required: True

        MDTextField:
            id: stu_sem
            hint_text: "Current Semester"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            required: True

        MDLabel:
            text: "Select study time"
        GridLayout:
            cols: 2
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            spacing: [30, 0]
            MDTextField:
                id: study_time_start
                text: ""
                hint_text: "Start time"
                helper_text: "Time to start your work"
                pos_hint: {"center_x": 0.5}
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                on_focus: if self.focus: app.study_start()


            MDTextField:
                id: no_of_tasks
                text: ""
                hint_text: "No. of Tasks"
                pos_hint: {"center_x": 0.5}
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color



        BoxLayout:
            size_hint_y: None
            height: 100
            MDFlatButton:
                text: "Go Back"
                text_color: self.theme_cls.primary_color
                on_release:
                    root.manager.current = "SignUpPage"
                    root.manager.transition.direction = "right"

            MDFlatButton:
                text: "OK"
                text_color: self.theme_cls.primary_color
                on_release: app.check_signup2()

    MDProgressBar:
        value: 60
        pos_hint: {'center_y': 0.01}

<SignUpPage3>
    name: "SignUpPage3"
    MDBoxLayout:
        size_hint: None, None
        size: 400, 500
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        orientation: "vertical"
        padding: 45
        spacing:15

        MDLabel:
            text: "You have been registered"
            halign: 'center'

        MDLabel:
            text: "Enter your subjects"

        MDRectangleFlatButton:
            text: "Add Subjects"
            on_release: app.add_subject_dialog()

        BoxLayout:
            MDFlatButton:
                text: "OK"
                text_color: self.theme_cls.primary_color
                on_release:
                    root.manager.transition = NoTransition(duration=0)
                    root.manager.current = "Home"
                    app.home_view()


    MDProgressBar:
        value: 100
        pos_hint: {'center_y': 0.01}

<Content>
    orientation: "vertical"
    spacing: "20dp"
    size_hint_y: None
    height: "250dp"
    course_code: course_code
    course_name: course_name
    course_credit: course_credit

    MDTextField:
        id: course_code
        hint_text: "Course Code"
        helper_text: "Required"
        helper_text_mode: 'on_error'
        color_mode:'custom'
        current_hint_text_color: app.theme_cls.accent_color
        line_color_focus: app.theme_cls.accent_color
        required: True

    MDTextField:
        id: course_name
        hint_text: "Course Name"
        helper_text: "Required"
        helper_text_mode: 'on_error'
        color_mode:'custom'
        current_hint_text_color: app.theme_cls.accent_color
        line_color_focus: app.theme_cls.accent_color
        required: True

    MDTextField:
        id: course_credit
        hint_text: "Credit_hours"
        helper_text: "Required"
        helper_text_mode: 'on_error'
        color_mode:'custom'
        current_hint_text_color: app.theme_cls.accent_color
        line_color_focus: app.theme_cls.accent_color
        required: True

    BoxLayout:
        MDFlatButton:
            text: "Add_next"
            on_release: root.course_details(self)

        MDFlatButton:
            text: "Done"
            on_release: app.close_dialog()

<Home>
    name: "Home"
    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    id: home_id
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'Tasks'
                        elevation:10
                        left_action_items: [['menu', lambda x : nav_drawer.set_state("open")]]
                    Widget:
                        size_hint_y: None
                        height:0
                    BoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text:"Tasks for the day"
                            size_hint_y: 0.2

                        MDSeparator:
                            height: "1dp"

                        ScrollView:
                            MDList:
                                id: view_all


                MDFloatingActionButtonSpeedDial:
                    data: app.data
                    root_button_anim: True
                    callback: app.callback

        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '8dp'
                padding: '8dp'

                Image:
                    source: "Toolbar_image.jpg"
                    padding: '10dp'
                MDLabel:
                    text: 'SPSD Task Scheduler'
                    theme_text_color: "Custom"
                    text_color: 1,99/255,71/255, 1
                    font_style: 'Subtitle1'
                    size_hint_y: None
                    height: 30
                    halign: 'center'

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            id: cal_page
                            text: 'Calendar'
                            on_release:
                                app.calendarPage_title()
                                app.create_calendar(self)

                            IconLeftWidget:
                                icon: 'calendar'

                        OneLineIconListItem:
                            text: 'Profile'
                            on_release: root.manager.current = "ProfilePage"
                            IconLeftWidget:
                                icon: 'account-settings'

                        OneLineIconListItem:
                            text: 'GPA Calculator'
                            on_release:
                                root.manager.current = "CgpaPage"
                            IconLeftWidget:
                                icon: 'calculator'

                        OneLineIconListItem:
                            text: "Logout"
                            on_release:
                                app.clear_all()
                                root.manager.current = "LoginPage"
                            IconLeftWidget:
                                icon: 'logout'


<TaskScreen>
    name: "TaskScreen"
    BoxLayout:
        orientation: 'vertical'
        pos_hint: {"center_x": 0.5, "center_y":0.5}
        MDLabel:
            text: "Add Task"
            halign: "center"


        MDTextField:
            id: task_name
            hint_text: "Task Name"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            size_hint_x: None
            width: 270
            required: True
            font_size: 16
            pos_hint: {"center_x": 0.5}

        GridLayout:
            cols:2
            size_hint_x: None
            width: 350
            pos_hint: {"center_x": 0.5}
            MDLabel:
                text: "Select task type:"
                halign: "center"
            GridLayout:
                cols: 2
                size_hint_x: None
                width: 200
                pos_hint: {"center_x": 0.5}
                MDCheckbox:
                    id: exam
                    text: "Exam"
                    group: "task_type"
                MDLabel:
                    text: "Test/Exam"
                    halign: "center"
                MDCheckbox:
                    id: assign
                    text: "Assignment"
                    group: "task_type"
                MDLabel:
                    text: "Assignment"
                    halign: "center"

        MDSeparator:
            height: "1dp"

        GridLayout:
            cols: 2
            size_hint_y: None
            height: 50
            size_hint_x: None
            width: 400
            pos_hint: {"center_x": 0.5}
            padding: [10,10]
            MDLabel:
                text: "Select Subject"
                halign: "center"
            MDTextField:
                id: task_sub
                text: ""
                hint_text: "Select Subject:"
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                pos_hint: {"center_x": 0.5}
                size_hint_x: None
                width: 190
                on_focus: if self.focus: app.drop_subs()

        GridLayout:
            cols: 2
            size_hint_y: None
            height: 50
            size_hint_x: None
            width: 400
            pos_hint: {"center_x": 0.5}
            padding: [10,20]
            MDLabel:
                text: "Marks percentage:"
                halign: "center"
            MDTextField:
                id: percent
                text: ""
                hint_text: "Enter here"
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                pos_hint: {"center_x": 0.5}
                size_hint_x: None
                width: 190

        GridLayout:
            cols: 2
            size_hint: None, None
            width: 210
            pos_hint: {"center_x": 0.5}
            padding: [10,50]
            MDTextField:
                id: due_date
                text: ""
                hint_text: "Select date"
                helper_text: "Click on calendar icon to select"
                helper_text_mode: "persistent"
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                pos_hint: {"center_x": 0.5}
                size_hint_x: None
                width: 190

            MDIconButton:
                icon: "calendar-month"
                ripple_scale: .5
                pos_hint: {"center_y": .5}
                on_release: app.date_picker(self)


        GridLayout:
            cols: 2
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            padding: [0, 20]
            spacing: [30, 0]
            MDFlatButton:
                text: "Cancel"
                on_release: root.manager.current = "Home"
            MDFlatButton:
                text: "Add Task"
                on_release:
                    app.add_task()



<EventScreen>
    name: "EventScreen"
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"center_x": 0.5, "center_y":0.5}
        MDLabel:
            text: "Add Event"
            halign: "center"

        MDTextField:
            id: event_name
            hint_text: "Event Name"
            helper_text: "Required"
            helper_text_mode: 'on_error'
            color_mode:'custom'
            current_hint_text_color: app.theme_cls.accent_color
            line_color_focus: app.theme_cls.accent_color
            size_hint_x: None
            width: 270
            required: True
            font_size: 16
            pos_hint: {"center_x": 0.5}

        GridLayout:
            cols: 2
            size_hint: None, None
            width: 210
            pos_hint: {"center_x": 0.5}

            padding: [0, 15]
            MDTextField:
                id: eve_date
                text: ""
                hint_text: "Select date"
                helper_text: "Click on calendar icon to select"
                helper_text_mode: "persistent"
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                pos_hint: {"center_x": 0.5}
                size_hint_x: None
                width: 190

            MDIconButton:
                icon: "calendar-cursor"
                ripple_scale: .5
                pos_hint: {"center_y": .5}
                on_release: app.date_picker(self)

        GridLayout:
            cols: 2
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            spacing: [30, 0]
            MDTextField:
                id: eve_time_start
                text: ""
                hint_text: "From"
                pos_hint: {"center_x": 0.5}
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                on_focus: if self.focus: app.timePicker_start()


            MDTextField:
                id: eve_time_end
                text: ""
                hint_text: "To"
                pos_hint: {"center_x": 0.5}
                color_mode:'custom'
                current_hint_text_color: app.theme_cls.accent_color
                line_color_focus: app.theme_cls.accent_color
                on_focus: if self.focus: app.timePicker_end()

        GridLayout:
            cols: 2
            size_hint_x: None
            width: 250
            pos_hint: {"center_x": 0.5}
            spacing: [30, 0]
            MDFlatButton:
                text: "Cancel"
                on_release:
                    root.manager.transition = NoTransition()
                    root.manager.current = "Home"
            MDFlatButton:
                text: "Add Task"
                on_release:
                    app.add_event()

<CalendarPage>
    name: "CalendarPage"

    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        id: cal_tool
                        title: ""
                        elevation:10
                        left_action_items: [['close', lambda x : app.close_page()]]
                    Widget:
                        size_hint: (None, None)
                        height: 0

                    GridLayout:
                        size_hint_y: None
                        height: 100
                        cols: 7
                        pos_hint : {'center_y': .7}
                        MDLabel:
                            text: "Mon"
                            halign: 'center'
                        MDLabel:
                            text: "Tue"
                            halign: 'center'
                        MDLabel:
                            text: "Thurs"
                            halign: 'center'
                        MDLabel:
                            text: "Wed"
                            halign: 'center'
                        MDLabel:
                            text: "Fri"
                            halign: 'center'
                        MDLabel:
                            text: "Sat"
                            halign: 'center'
                        MDLabel:
                            text: "Sun"
                            halign: 'center'

                    GridLayout:
                        cols:7
                        id: calendar_space

                    MDLabel:
                        id: id_store
                        text:""
                        font_size: 0

                    Widget:
                    MDBottomAppBar:

                        MDToolbar:
                            title: ""
                            icon: "calendar-search"
                            type: "bottom"
                            on_action_button: app.select_calendar()

<ContentCustomSheet>:
    orientation: "vertical"
    size_hint_y: None
    height: 250
    bottom_date: bottom_date
    prev_b: prev_b
    next_b:next_b

    MDBoxLayout:
        adaptive_height: True
        MDIconButton:
            id: prev_b
            icon: 'chevron-left'
            on_release: root.change_date_prev()
        MDLabel:
            id: bottom_date
            text: root.date_c()
            halign: "center"
        MDIconButton:
            id: next_b
            icon: 'chevron-right'
            on_release: root.change_date_next()
    GridLayout:
        cols: 4
        spacing: 20
        spacing: 20
        padding: 30
        Button:
            id: Jan
            text: "Jan"
            on_press: app.go_back(self)
        Button:
            id:Feb
            text: "Feb"
            on_press: app.go_back(self)
        Button:
            id:Mar
            text: "Mar"
            on_press: app.go_back(self)

        Button:
            id:Apr
            text: "Apr"
            on_press: app.go_back(self)
        Button:
            id:May
            text: "May"
            on_press: app.go_back(self)
        Button:
            id:June
            text: "June"
            on_press: app.go_back(self)
        Button:
            id:July
            text: "July"
            on_press: app.go_back(self)
        Button:
            id:Aug
            text: "Aug"
            on_press: app.go_back(self)
        Button:
            id:Sept
            text: "Sept"
            on_press: app.go_back(self)
        Button:
            id:Oct
            text: "Oct"
            on_press: app.go_back(self)
        Button:
            id: Nov
            text: "Nov"
            on_press: app.go_back(self)
        Button:
            id: Dec
            text: "Dec"
            on_press: app.go_back(self)

<AllTasksPage>
    name: "AllTasksPage"
    MDNavigationLayout:
    ScreenManager:
        Screen:
            BoxLayout:
                orientation: 'vertical'
                MDToolbar:
                    id: cal_tool
                    title: ""
                    elevation:10
                    left_action_items: [['close', lambda x : app.close_page2()]]
                MDLabel:
                    text: "Events for the day"
                    font_size: 25
                    theme_text_color: "Custom"
                    text_color: 1,99/255,71/255, 1
                    halign: 'center'
                    size_hint_y: None

                MDLabel:
                    id: sele_date
                    text: ""
                    halign: 'center'
                    size_hint_y: None
                ScrollView:
                    MDList:
                        id: day_task

                Widget:

<ProfilePage>
    name: "ProfilePage"
    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    spacing: 20

                    MDToolbar:
                        title: 'Profile Settings'
                        elevation:10
                        left_action_items: [['close', lambda x : app.close_page()]]
                    Widget:
                        size_hint_y: None
                        height: 0

                    MDCard:
                        size_hint: (.9, None)
                        height: dp(120)
                        pos_hint: {'center_x': 0.5}
                        elevation: 25
                        BoxLayout:
                            orientation:'vertical'
                            padding: dp(8)
                            BoxLayout:
                                MDLabel:
                                    text: 'Change UserName'
                                    size_hint_y: None
                                    font_style: "H6"
                                    font_size: '15'
                                    height: dp(36)
                                MDIconButton:
                                    icon: 'pencil'


                            MDSeparator:
                                height: dp(1)
                            MDLabel:
                                id: ch_user_name
                                text: ""
                                font_style: "Body2"
                    MDCard:
                        size_hint: (.9, None)
                        height: dp(120)
                        pos_hint: {'center_x': 0.5}
                        elevation: 25
                        BoxLayout:
                            orientation:'vertical'
                            padding: dp(8)
                            BoxLayout:
                                MDLabel:
                                    text: 'Change Email'
                                    size_hint_y: None
                                    font_style: "H6"
                                    font_size: '15'
                                    height: dp(36)
                                MDIconButton:
                                    icon: 'pencil'
                            MDSeparator:
                                height: dp(1)
                            MDLabel:
                                id: ch_user_email
                                text: ""
                                font_style: "Body2"
                    MDCard:
                        size_hint: (.9, None)
                        height: dp(120)
                        pos_hint: {'center_x': 0.5}
                        elevation: 25
                        BoxLayout:
                            orientation:'vertical'
                            padding: dp(8)
                            BoxLayout:
                                MDLabel:
                                    text: 'Change Password'
                                    size_hint_y: None
                                    font_style: "H6"
                                    font_size: '15'
                                    height: dp(36)
                                MDIconButton:
                                    icon: 'pencil'
                            MDSeparator:
                                height: dp(1)
                            MDLabel:
                                id: ch_user_pass
                                text: ""
                                font_style: "Body2"

                    Widget:


<CgpaPage>
    name: "CgpaPage"
    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: "vertical"
                    pos_hint: {"center_x": 0.5, "center_y":0.5}
                    MDToolbar:
                        title: 'GPA Calculator'
                        elevation:10
                        left_action_items: [['close', lambda x : app.close_page()]]


                    MDLabel:
                        text: "Enter your estimated grades!!"
                        halign: 'center'
                        size_hint_y: None
                        height: 100
                    GridLayout:
                        id: grid_cgpa
                        cols: 3
                        size_hint: None, None
                        width: 400
                        pos_hint: {"center_x": 0.5}
                        padding: [30, 0]
                        spacing: [20, 0]
                        MDTextField:
                            size_hint_x: None
                            width: 150
                            font_size: 15
                            hint_text: 'Subject'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: cre_1
                            size_hint_x: None
                            width: 100
                            font_size: 15
                            hint_text: 'Credit Hours'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: gra_1
                            size_hint_x: None
                            width: 75
                            font_size: 15
                            hint_text: 'Grade'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                            on_focus: if self.focus: app.drop_gra(self)
                        MDTextField:
                            size_hint_x: None
                            width: 150
                            font_size: 15
                            hint_text: 'Subject'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: cre_2
                            size_hint_x: None
                            width: 100
                            font_size: 15
                            hint_text: 'Credit Hours'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: gra_2
                            size_hint_x: None
                            width: 75
                            font_size: 15
                            hint_text: 'Grade'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                            on_focus: if self.focus: app.drop_gra(self)
                        MDTextField:
                            size_hint_x: None
                            width: 150
                            font_size: 15
                            hint_text: 'Subject'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: cre_3
                            size_hint_x: None
                            width: 100
                            font_size: 15
                            hint_text: 'Credit Hours'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: gra_3
                            size_hint_x: None
                            width: 75
                            font_size: 15
                            hint_text: 'Grade'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                            on_focus: if self.focus: app.drop_gra(self)
                        MDTextField:
                            size_hint_x: None
                            width: 150
                            font_size: 15
                            hint_text: 'Subject'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: cre_4
                            size_hint_x: None
                            width: 100
                            font_size: 15
                            hint_text: 'Credit Hours'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: gra_4
                            size_hint_x: None
                            width: 75
                            font_size: 15
                            hint_text: 'Grade'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                            on_focus: if self.focus: app.drop_gra(self)
                        MDTextField:
                            size_hint_x: None
                            width: 150
                            font_size: 15
                            hint_text: 'Subject'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: cre_5
                            size_hint_x: None
                            width: 100
                            font_size: 15
                            hint_text: 'Credit Hours'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                        MDTextField:
                            id: gra_5
                            size_hint_x: None
                            width: 75
                            font_size: 15
                            hint_text: 'Grade'
                            pos_hint: {"center_x": 0.5}
                            color_mode: 'custom'
                            current_hint_text_color: self.theme_cls.accent_color
                            line_color_focus: self.theme_cls.accent_color
                            on_focus: if self.focus: app.drop_gra(self)
                    Widget:

                    MDLabel:
                        id: result
                        text: "GPA is: "
                        size_hint: None, None
                        pos_hint: {"center_x": 0.5, "center_y": 0.9}

                    MDFloatingActionButton:
                        icon: "calculator-variant"
                        md_bg_color: app.theme_cls.primary_color
                        pos_hint: {"center_x": 0.5, "center_y": 0.9}
                        size_hint: None, None
                        on_release:
                            app.calculate_gpa()

                    Widget:


<DetailsPage>
    name: "DetailsPage"
    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        id: cal_tool
                        title: ""
                        elevation:10
                        left_action_items: [['close', lambda x : app.close_page()]]
                    MDLabel:
                        text: "Details of the Task"
                        font_size: 25
                        theme_text_color: "Custom"
                        text_color: 1,99/255,71/255, 1
                        halign: 'center'
                        size_hint_y: None
                    BoxLayout:
                        orientation: "vertical"

                        MDLabel:
                            id: title
                            text: ""
                        MDLabel:
                            id: time_t
                            text: ""
                        MDLabel:
                            id: due_d
                            text: ""
                    BoxLayout:
                        orientation: "vertical"
                        MDLabel:
                            text: "References"
                            theme_text_color: "Custom"
                            text_color: 1,99/255,71/255, 1
                            halign: 'center'
                        ScrollView:
                            MDList:
                                id: references
                                OneLineListItem:
                                    text: "okay"

                    GridLayout:
                        cols: 2
                        size_hint_x: None
                        width: 250
                        pos_hint: {"center_x": 0.5}
                        spacing: [30, 0]
                        MDRectangleFlatButton:
                            text: "Done for the day"
                            on_release:
                                app.delete_task(self)
                                root.manager.transition = NoTransition()
                                root.manager.current = "Home"
                        MDRectangleFlatButton:
                            text: "Completed"
                            on_release:
                                app.delete_task(self)
                                root.manager.transition = NoTransition()
                                root.manager.current = "Home"
                    Widget:


<Store>
    name: "Store"
    MDLabel:
        id: user_id
        text: ""

    MDLabel:
        id: user_sem
        text: ""

    MDLabel:
        id: date_ch
        text: ""

